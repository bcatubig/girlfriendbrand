---
import BaseLayout from "@layouts/BaseLayout.astro";
import { getEntry } from "astro:content";
import { Image } from "astro:assets";

const post = await getEntry("products", "army-shirt");

if (!post) {
  return new Response(null, {
    status: 404,
  });
}
---

<BaseLayout>
  <h1>{post.data.title}</h1>
  {console.log(post.data.cover)}
  <Image
    src={post.data.cover}
    alt="foo"
    layout="constrained"
    width={400}
    height={400}
  />

  {
    post.data.images.map((img) => (
      <Image
        src={img}
        alt="bar"
        layout="constrained"
        width={400}
        height={400}
      />
    ))
  }
</BaseLayout>
