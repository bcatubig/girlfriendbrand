---
import BaseLayout from "@layouts/BaseLayout.astro";
import { getCollection, getEntry } from "astro:content";
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";

type ProductEntry = CollectionEntry<"products">;
const products = await getCollection("products");
---

<BaseLayout title="Home">
  <ul class="products">
    {
      products.map((product) => (
        <li class="product">
          <Image
            class="product__image"
            src={product.data.cover}
            width={400}
            height={400}
            loading="eager"
            layout="constrained"
            alt={product.data.title}
          />
        </li>
      ))
    }
  </ul>
</BaseLayout>

<style>
  .product {
    display: grid;
  }
</style>
